<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ng-dialog/0.6.2/css/ngDialog.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ng-dialog/0.4.0/css/ngDialog-theme-default.min.css">
<link rel="stylesheet" href="CSS/timeTracking.css">

<title> Role Playing Game </title>

</head>
<body ng-app="rpg" ng-controller="rpgCtr" ng-keypress="keyPress($event)">
  <div class="container-fluid">
    <div class="col-sm-12">
      <table class="table">
	       <thead>
      	  <th class="col-sm-3"> Jogador </th>
          <th class="col-sm-2"> Iniciativa </th>
          <th class="col-sm-2"> HP </th>
          <th class="col-sm-2"> Dado
            <i class="fa fa-play"
               title="Rolar dado"
               aria-hidden="true"
               ng-click="rollDice()"></i>
          </th>
          <th class="col-sm-2"> Total </th>
      	  <th class="col-sm-1">
            <i title="Inserir jogador"
               class="fa fa-plus-circle fa-2x"
               aria-hidden="true"
               ng-click="newPlayer()"></i>
            <i ng-show="players.length > 0"
               title="Limpar lista de jogadores"
               class="fa fa-trash fa-2x"
               aria-hidden="true"
               ng-click="clearList()"></i>
         </th>
    	  </thead>
        <tbody>
          <tr ng-repeat="player in players">
            <td ng-if="player.editName == true" class="col-sm-3">
              <input type="text" class="form-control"
                     ng-blur="leaveEdition($index)"
                     ng-model="player.name"
                     ng-keypress="enterAsTab($event, $index)" />
            </td>
            <td ng-if="player.editName != true"
                title="Editar jogador"
                ng-dblclick="editName($index)"
                class="pointer"
                class="col-sm-3">
              {{player.name}}
            </td>
            <td ng-if="player.editUtility == true" class="col-sm-1">
              <input type="text" class="form-control"
                     ng-blur="leaveEdition($index)"
                     ng-model="player.utility"
                     ui-mask="9?9?9"
                     ng-keypress="enterAsTab($event, $index)" />
            </td>
            <td ng-if="player.editUtility != true"
                title="Editar iniciativa"
                class="pointer"
                ng-dblclick="editUtility($index)"
                class="col-sm-2">
              {{player.utility}}
            </td>
            <td ng-dblclick="changeHP($index)"
                class="col-sm-2 pointer"
                title="Editar HP">
              {{player.HP}}
            </td>
            <td class="col-sm-2">
              {{player.dice}}
            </td>
            <td class="col-sm-2">
              {{getTotal($index)}}
            </td>
        	  <td class="col-sm-1">
              <i title="Excluir jogador" class="fa fa-trash" aria-hidden="true" ng-click="deletePlayer($index)"></i>
            </td>
        	</tr>
        <tbody>
      </table>
    </div>
  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-mask/1.8.3/mask.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ng-dialog/0.6.2/js/ngDialog.min.js"></script>
  <script src="JS/rpg.js"></script>
</body>
</html>
